<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Echo Test - Detect Audio Echo & Feedback Issues | MicTest</title>
  <meta name="description" content="Free online echo test tool. Record and playback audio to detect echo, feedback, and delay issues in your microphone setup. Perfect for testing before video calls and meetings.">
  <meta name="keywords" content="echo test, audio echo test, microphone echo, feedback test, audio delay test, echo cancellation test, mic echo detection">

  <link rel="canonical" href="https://mic-tests.github.io/echo-test">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css" rel="stylesheet">
  <link href="/css/common.css" rel="stylesheet">
  <script async crossorigin="anonymous"
          src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5426315045205785"></script>
  <style>
    .echo-visualizer {
      height: 120px;
      background: #f8f9fa;
      border: 1px solid #dee2e6;
      border-radius: 8px;
    }
    .delay-slider {
      width: 100%;
    }
    .test-card {
      transition: transform 0.2s;
    }
    .test-card:hover {
      transform: translateY(-3px);
    }
    .status-recording {
      color: #dc3545;
      animation: blink 1s infinite;
    }
    @keyframes blink {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.5; }
    }
  </style>
  <meta content="ca-pub-5426315045205785" name="google-adsense-account">
</head>
<body>
  <!-- Navbar Container -->
  <div id="navbar-container"></div>

  <div class="container mt-4">
    <div class="row">
      <div class="col-lg-8">
        <h1><i class="bi bi-arrow-repeat me-2"></i>Echo Test</h1>
        <p class="lead">Test your audio setup for echo and feedback issues. Record your voice and play it back with adjustable delay. Use <a href="/headphone-test" title="Headphone Test">headphones</a> for accurate results. First, <a href="/" title="Microphone Test">test your microphone</a> to ensure it's working properly.</p>

        <div class="alert alert-info" id="status-alert">
          <i class="bi bi-info-circle-fill me-2"></i>
          <span id="status-message">Select a test mode below to check for echo issues in your audio setup.</span>
        </div>

        <!-- Quick Echo Test -->
        <div class="card mb-4">
          <div class="card-header bg-primary text-white">
            <i class="bi bi-lightning me-2"></i>Quick Echo Test
          </div>
          <div class="card-body">
            <p>Record a short clip and hear it played back immediately to detect echo.</p>

            <div class="row mb-3">
              <div class="col-md-6">
                <label class="form-label">Select Microphone</label>
                <select class="form-select" id="mic-select" disabled>
                  <option value="">Loading microphones...</option>
                </select>
              </div>
              <div class="col-md-6">
                <label class="form-label">Playback Delay</label>
                <div class="d-flex align-items-center">
                  <input type="range" class="form-range delay-slider me-2" id="delay-slider" min="0" max="2000" value="500">
                  <span id="delay-value">500ms</span>
                </div>
              </div>
            </div>

            <div class="echo-visualizer mb-3">
              <canvas id="visualizer" width="100%" height="100%"></canvas>
            </div>

            <div class="text-center">
              <button class="btn btn-danger btn-lg me-2" id="record-btn">
                <i class="bi bi-circle-fill me-2"></i>Record (3 sec)
              </button>
              <button class="btn btn-success btn-lg" id="play-btn" disabled>
                <i class="bi bi-play-fill me-2"></i>Play Back
              </button>
            </div>

            <div class="mt-3 text-center d-none" id="recording-status">
              <span class="status-recording"><i class="bi bi-record-fill me-2"></i>Recording...</span>
              <div class="progress mt-2">
                <div class="progress-bar progress-bar-striped progress-bar-animated bg-danger" id="record-progress" style="width: 0%"></div>
              </div>
            </div>
          </div>
        </div>

            <div class="card mt-4 mb-4">
    <div class="card-header bg-light">
        <i class="bi bi-star-fill me-2"></i>Advertisements
    </div>
    <div class="card-body text-center">
        <!-- mic test 3 -->
        <ins class="adsbygoogle"
             style="display:block"
             data-ad-client="ca-pub-5426315045205785"
             data-ad-slot="9146528954"
             data-ad-format="auto"
             data-full-width-responsive="true"></ins>
        <script>
             (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
    </div>
  </div>

        <!-- Live Monitor Test -->
        <div class="card mb-4">
          <div class="card-header bg-primary text-white">
            <i class="bi bi-headphones me-2"></i>Live Monitor Test
          </div>
          <div class="card-body">
            <p>Enable live monitoring to hear your microphone input in real-time through your speakers/headphones. <strong>Warning:</strong> Use <a href="/headphone-test" title="Headphone Test">headphones</a> to avoid feedback loop!</p>

            <div class="alert alert-warning">
              <i class="bi bi-exclamation-triangle me-2"></i>
              <strong>Important:</strong> Use headphones during live monitoring to prevent audio feedback. If you hear loud screeching, click Stop immediately.
            </div>

            <div class="row align-items-center">
              <div class="col-md-6">
                <label class="form-label">Monitor Delay</label>
                <div class="d-flex align-items-center">
                  <input type="range" class="form-range me-2" id="monitor-delay" min="0" max="1000" value="0">
                  <span id="monitor-delay-value">0ms</span>
                </div>
              </div>
              <div class="col-md-6 text-center">
                <button class="btn btn-primary btn-lg" id="monitor-btn">
                  <i class="bi bi-broadcast me-2"></i>Start Monitoring
                </button>
              </div>
            </div>
          </div>
        </div>

        <!-- Echo Troubleshooting -->
        <div class="card mb-4">
          <div class="card-body">
            <h5><i class="bi bi-wrench me-2"></i>Fixing Echo Issues</h5>
            <p>If you're experiencing echo during calls or recordings, try these solutions:</p>

            <div class="row">
              <div class="col-md-6">
                <h6>Common Causes</h6>
                <ul>
                  <li>Speakers too close to microphone</li>
                  <li>High speaker volume</li>
                  <li>Echo cancellation disabled</li>
                  <li>Multiple audio inputs active</li>
                  <li>Room acoustics (hard surfaces)</li>
                </ul>
              </div>
              <div class="col-md-6">
                <h6>Solutions</h6>
                <ul>
                  <li>Use <a href="/headphone-test" title="Headphone Test">headphones</a> instead of speakers</li>
                  <li>Lower speaker/playback volume</li>
                  <li>Enable echo cancellation in <a href="/show-mic" title="Mic Settings">mic settings</a></li>
                  <li>Move mic away from speakers</li>
                  <li>Add soft materials to reduce reflections</li>
                </ul>
              </div>
            </div>
            <p class="mb-0">Still having issues? Check our <a href="/troubleshooting" title="Troubleshooting Guide">troubleshooting guide</a> for more solutions.</p>
          </div>
        </div>

        <!-- Understanding Echo -->
        <div class="card mb-4">
          <div class="card-body">
            <h5><i class="bi bi-book me-2"></i>Understanding Audio Echo</h5>
            <p>Audio echo occurs when sound from your speakers is picked up by your microphone and retransmitted. This creates a feedback loop that can range from a slight delay to a loud screeching sound.</p>

            <h6>Types of Echo:</h6>
            <ul>
              <li><strong>Acoustic Echo:</strong> Sound bouncing off walls and surfaces</li>
              <li><strong>Electronic Echo:</strong> Audio looping through your system</li>
              <li><strong>Network Echo:</strong> Delay in VoIP/video call systems</li>
            </ul>

            <p class="mb-0">Use our <a href="/audio-latency-test" title="Latency Test">audio latency test</a> to measure delay, or check <a href="/background-noise-analyzer" title="Noise Analyzer">background noise levels</a> that might affect echo cancellation.</p>
          </div>
        </div>
      
      <div class="card mb-4">
        <div class="card-header bg-light">
          <i class="bi bi-star-fill me-2"></i>Advertisements
        </div>
        <div class="card-body text-center">
          <!-- mic test - 2 -->
          <ins class="adsbygoogle"
               data-ad-client="ca-pub-5426315045205785"
               data-ad-format="auto"
               data-ad-slot="7669795756"
               data-full-width-responsive="true"
               style="display:block"></ins>
          <script>
            (adsbygoogle = window.adsbygoogle || []).push({});
          </script>
        </div>
      </div>


      </div>

      <!-- Sidebar -->
      <div class="col-lg-4">

<div class="card mb-4">
    <div class="card-header bg-primary text-white">
        <i class="bi bi-star-fill me-2"></i>Advertisements
    </div>
    <div class="card-body text-center">
        <!-- Mic Test - 1 -->
        <ins class="adsbygoogle"
             style="display:block; min-height:360px;"
             data-ad-client="ca-pub-5426315045205785"
             data-ad-slot="6193062550"
             data-ad-format="auto"
             data-full-width-responsive="true"></ins>
        <script>
             (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
    </div>
</div>

        <div class="card mb-4">
          <div class="card-header bg-primary text-white">
            <i class="bi bi-check-circle me-2"></i>Test Results
          </div>
          <div class="card-body">
            <div id="test-results">
              <p class="text-muted text-center">Run a test to see results</p>
            </div>
          </div>
        </div>

        <div class="card mb-4">
          <div class="card-header bg-primary text-white">
            <i class="bi bi-tools me-2"></i>Related Tools
          </div>
          <ul class="list-group list-group-flush">
            <li class="list-group-item">
              <a href="/" class="text-decoration-none" title="Microphone Test">
                <i class="bi bi-mic me-2"></i>Microphone Test
              </a>
            </li>
            <li class="list-group-item">
              <a href="/mic-recorder" class="text-decoration-none" title="Record Audio">
                <i class="bi bi-record-circle me-2"></i>Mic Recorder
              </a>
            </li>
            <li class="list-group-item">
              <a href="/audio-latency-test" class="text-decoration-none" title="Latency Test">
                <i class="bi bi-stopwatch me-2"></i>Audio Latency Test
              </a>
            </li>
            <li class="list-group-item">
              <a href="/headphone-test" class="text-decoration-none" title="Headphone Test">
                <i class="bi bi-headphones me-2"></i>Headphone Test
              </a>
            </li>
            <li class="list-group-item">
              <a href="/background-noise-analyzer" class="text-decoration-none" title="Noise Analyzer">
                <i class="bi bi-soundwave me-2"></i>Background Noise Analyzer
              </a>
            </li>
            <li class="list-group-item">
              <a href="/troubleshooting" class="text-decoration-none" title="Troubleshooting">
                <i class="bi bi-question-circle me-2"></i>Troubleshooting Guide
              </a>
            </li>
          </ul>
        </div>

        <div class="card">
          <div class="card-body">
            <h6><i class="bi bi-lightbulb me-2 text-warning"></i>Pro Tip</h6>
            <p class="small mb-0">For professional recording without echo, use a <a href="/headphone-test" title="Test Headphones">closed-back headphone</a> and position your mic away from reflective surfaces. Check your <a href="/show-mic" title="Mic Details">microphone's echo cancellation</a> settings.</p>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Footer Container -->
  


  <div id="footer-container"></div>

  <script src="/js/partials-loader.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const micSelect = document.getElementById('mic-select');
      const recordBtn = document.getElementById('record-btn');
      const playBtn = document.getElementById('play-btn');
      const delaySlider = document.getElementById('delay-slider');
      const delayValue = document.getElementById('delay-value');
      const monitorBtn = document.getElementById('monitor-btn');
      const monitorDelay = document.getElementById('monitor-delay');
      const monitorDelayValue = document.getElementById('monitor-delay-value');
      const statusMessage = document.getElementById('status-message');
      const statusAlert = document.getElementById('status-alert');
      const recordingStatus = document.getElementById('recording-status');
      const recordProgress = document.getElementById('record-progress');
      const testResults = document.getElementById('test-results');
      const visualizer = document.getElementById('visualizer');
      const visualizerCtx = visualizer.getContext('2d');

      let audioContext = null;
      let mediaRecorder = null;
      let audioChunks = [];
      let audioBlob = null;
      let audioStream = null;
      let isMonitoring = false;
      let monitorSource = null;
      let delayNode = null;
      let analyser = null;
      let animationId = null;

      // Resize canvas
      function resizeCanvas() {
        visualizer.width = visualizer.parentElement.offsetWidth;
        visualizer.height = visualizer.parentElement.offsetHeight;
      }
      resizeCanvas();
      window.addEventListener('resize', resizeCanvas);

      // Update status
      function updateStatus(type, message) {
        statusAlert.className = `alert alert-${type}`;
        statusMessage.innerHTML = message;
      }

      // Get audio devices
      async function getAudioDevices() {
        try {
          const stream = await navigator.mediaDevices.getUserMedia({ audio: true });
          stream.getTracks().forEach(track => track.stop());

          const devices = await navigator.mediaDevices.enumerateDevices();
          const audioInputs = devices.filter(d => d.kind === 'audioinput');

          micSelect.innerHTML = '';
          audioInputs.forEach((device, index) => {
            const option = document.createElement('option');
            option.value = device.deviceId;
            option.text = device.label || `Microphone ${index + 1}`;
            micSelect.appendChild(option);
          });
          micSelect.disabled = false;
        } catch (error) {
          updateStatus('danger', 'Microphone access denied. Please allow microphone permissions.');
        }
      }

      // Draw visualizer
      function drawVisualizer() {
        if (!analyser) return;

        const bufferLength = analyser.frequencyBinCount;
        const dataArray = new Uint8Array(bufferLength);
        analyser.getByteTimeDomainData(dataArray);

        visualizerCtx.fillStyle = '#f8f9fa';
        visualizerCtx.fillRect(0, 0, visualizer.width, visualizer.height);

        visualizerCtx.lineWidth = 2;
        visualizerCtx.strokeStyle = '#0d6efd';
        visualizerCtx.beginPath();

        const sliceWidth = visualizer.width / bufferLength;
        let x = 0;

        for (let i = 0; i < bufferLength; i++) {
          const v = dataArray[i] / 128.0;
          const y = v * visualizer.height / 2;

          if (i === 0) {
            visualizerCtx.moveTo(x, y);
          } else {
            visualizerCtx.lineTo(x, y);
          }
          x += sliceWidth;
        }

        visualizerCtx.lineTo(visualizer.width, visualizer.height / 2);
        visualizerCtx.stroke();

        animationId = requestAnimationFrame(drawVisualizer);
      }

      // Record audio
      async function startRecording() {
        try {
          const deviceId = micSelect.value;
          const constraints = {
            audio: deviceId ? { deviceId: { exact: deviceId } } : true
          };

          audioStream = await navigator.mediaDevices.getUserMedia(constraints);

          audioContext = new (window.AudioContext || window.webkitAudioContext)();
          analyser = audioContext.createAnalyser();
          const source = audioContext.createMediaStreamSource(audioStream);
          source.connect(analyser);
          analyser.fftSize = 2048;
          drawVisualizer();

          mediaRecorder = new MediaRecorder(audioStream);
          audioChunks = [];

          mediaRecorder.ondataavailable = (e) => audioChunks.push(e.data);

          mediaRecorder.onstop = () => {
            audioBlob = new Blob(audioChunks, { type: 'audio/wav' });
            playBtn.disabled = false;
            recordingStatus.classList.add('d-none');
            updateStatus('success', 'Recording complete! Click "Play Back" to hear your recording.');

            if (animationId) cancelAnimationFrame(animationId);

            testResults.innerHTML = `
              <div class="text-center">
                <i class="bi bi-check-circle text-success fs-1"></i>
                <p class="mt-2">Recording captured successfully.</p>
                <p class="small text-muted">Delay: ${delaySlider.value}ms</p>
              </div>
            `;
          };

          mediaRecorder.start();
          recordBtn.disabled = true;
          recordingStatus.classList.remove('d-none');
          updateStatus('danger', '<i class="bi bi-record-fill me-1"></i> Recording... Speak into your microphone.');

          // Progress animation
          let progress = 0;
          const progressInterval = setInterval(() => {
            progress += 3.33;
            recordProgress.style.width = `${progress}%`;
            if (progress >= 100) clearInterval(progressInterval);
          }, 100);

          // Stop after 3 seconds
          setTimeout(() => {
            if (mediaRecorder.state !== 'inactive') {
              mediaRecorder.stop();
              audioStream.getTracks().forEach(track => track.stop());
            }
            recordBtn.disabled = false;
          }, 3000);

        } catch (error) {
          updateStatus('danger', 'Error: ' + error.message);
          recordBtn.disabled = false;
        }
      }

      // Play back recording
      function playRecording() {
        if (!audioBlob) return;

        const delay = parseInt(delaySlider.value);

        setTimeout(() => {
          const audioUrl = URL.createObjectURL(audioBlob);
          const audio = new Audio(audioUrl);
          audio.play();
          updateStatus('info', 'Playing back your recording. Listen for any echo or delay issues.');
        }, delay);
      }

      // Toggle live monitoring
      async function toggleMonitoring() {
        if (isMonitoring) {
          stopMonitoring();
          return;
        }

        try {
          const deviceId = micSelect.value;
          const constraints = {
            audio: deviceId ? { deviceId: { exact: deviceId } } : true
          };

          audioStream = await navigator.mediaDevices.getUserMedia(constraints);
          audioContext = new (window.AudioContext || window.webkitAudioContext)();

          monitorSource = audioContext.createMediaStreamSource(audioStream);
          delayNode = audioContext.createDelay(1.0);
          delayNode.delayTime.value = parseInt(monitorDelay.value) / 1000;

          analyser = audioContext.createAnalyser();
          analyser.fftSize = 2048;

          monitorSource.connect(delayNode);
          delayNode.connect(analyser);
          analyser.connect(audioContext.destination);

          drawVisualizer();

          isMonitoring = true;
          monitorBtn.innerHTML = '<i class="bi bi-stop-fill me-2"></i>Stop Monitoring';
          monitorBtn.classList.remove('btn-primary');
          monitorBtn.classList.add('btn-danger');
          updateStatus('warning', '<i class="bi bi-broadcast me-1"></i> Live monitoring active. Use headphones to avoid feedback!');

        } catch (error) {
          updateStatus('danger', 'Error: ' + error.message);
        }
      }

      function stopMonitoring() {
        if (audioStream) {
          audioStream.getTracks().forEach(track => track.stop());
        }
        if (audioContext) {
          audioContext.close();
        }
        if (animationId) {
          cancelAnimationFrame(animationId);
        }

        isMonitoring = false;
        monitorBtn.innerHTML = '<i class="bi bi-broadcast me-2"></i>Start Monitoring';
        monitorBtn.classList.remove('btn-danger');
        monitorBtn.classList.add('btn-primary');
        updateStatus('info', 'Monitoring stopped.');
      }

      // Event listeners
      recordBtn.addEventListener('click', startRecording);
      playBtn.addEventListener('click', playRecording);
      monitorBtn.addEventListener('click', toggleMonitoring);

      delaySlider.addEventListener('input', () => {
        delayValue.textContent = `${delaySlider.value}ms`;
      });

      monitorDelay.addEventListener('input', () => {
        monitorDelayValue.textContent = `${monitorDelay.value}ms`;
        if (delayNode) {
          delayNode.delayTime.value = parseInt(monitorDelay.value) / 1000;
        }
      });

      // Initialize
      getAudioDevices();
    });
  </script>
</body>
</html>